"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[522],{2522:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(6540),a=n(1083),l=n(3048),c=n(4479),u=n(1105),o=n(1364),i=n(5615),s=n(3552),f=n(1100),d=n(8917);const p=function(e){var t=e.index,n=e.tag,a=e.setDeleteTag,l=e.handleOpen,o=e.setEditId;return r.createElement(c.A,{key:"tagRow-".concat(t),className:"border border-dark bg-primary pt-3 pb-3"},r.createElement(u.A,{className:"d-flex align-items-center me-auto"},r.createElement(d.A,{tag:n}),": ",n.description),r.createElement(u.A,null,r.createElement(f.A,null,r.createElement(i.A,{type:"button",variant:"info",onClick:function(){return o(n.id)}},"Edit"),r.createElement(i.A,{type:"button",variant:"danger",onClick:function(){a(n),l()}},"Delete"))))},h=function(){return r.createElement("h2",null,"Tag edit")};var m=function(e,t,n,r){return new(n||(n=Promise))((function(a,l){function c(e){try{o(r.next(e))}catch(e){l(e)}}function u(e){try{o(r.throw(e))}catch(e){l(e)}}function o(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,u)}o((r=r.apply(e,t||[])).next())}))},b=function(e,t){var n,r,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=u(0),c.throw=u(1),c.return=u(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function u(u){return function(o){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,u[0]&&(l=0)),l;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return l.label++,{value:u[1],done:!1};case 5:l.label++,r=u[1],u=[0];continue;case 7:u=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==u[0]&&2!==u[0])){l=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){l.label=u[1];break}if(6===u[0]&&l.label<a[1]){l.label=a[1],a=u;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(u);break}a[2]&&l.ops.pop(),l.trys.pop();continue}u=t.call(e,l)}catch(e){u=[6,e],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,o])}}};const g=function(){var e=this,t=(0,r.useState)([]),n=t[0],f=t[1],d=(0,r.useState)(!1),g=d[0],E=d[1],y=function(){return E(!0)},v=(0,r.useState)(),w=v[0],A=v[1],k=(0,r.useState)(!1),x=(k[0],k[1],(0,r.useState)(-1)),S=x[0],C=x[1];return(0,r.useEffect)((function(){m(e,void 0,void 0,(function(){var e,t;return b(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,a.A.get("/api/tags")];case 1:return e=n.sent(),f(e.data),[3,3];case 2:return t=n.sent(),console.error("Request failed: ",t),[3,3];case 3:return[2]}}))}))}),[]),r.createElement(r.Fragment,null,r.createElement(s.default,{show:g,handleClose:function(){return E(!1)},onDelete:function(){return m(e,void 0,void 0,(function(){var e;return b(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,a.A.delete("/api/tags/delete?id=".concat(null==w?void 0:w.id))];case 1:return t.sent(),f(n.filter((function(e){return e!==w}))),[3,3];case 2:return e=t.sent(),console.error("Error deleting tag: ",e),[3,3];case 3:return[2]}}))}))},message:"Are you sure you want to delete this tag?"}),r.createElement("h2",null,"Tags"),r.createElement("hr",{className:"my-4"}),r.createElement(l.A,{fluid:!0},r.createElement(c.A,{className:"pb-3"},r.createElement(u.A,null,r.createElement(o.A,{type:"text","aria-label":"Search",id:"searchInput",placeholder:"Search...",onChange:function(){}})),r.createElement(u.A,null,r.createElement(i.A,{variant:"success"},"Create"))),r.createElement(c.A,{className:"border border-dark p-3 rounded-top bg-success"},"Total Tags: ",n.length||0),n.length>0&&n.map((function(e,t){return r.createElement(r.Fragment,null,S===e.id?r.createElement(h,null):r.createElement(p,{index:t,tag:e,setDeleteTag:A,handleOpen:y,setEditId:C}))}))))}}}]);