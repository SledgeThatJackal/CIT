"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[45],{1045:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var r=n(6540),a=n(9785),o=n(4976),c=n(1083),l=n(893),i=n(3048),u=n(2431),s=n(8894),d=n(5076),m=n(9590),f=n(616),h=n(5615),p=n(8917);const E=function(e){var t=e.containerItems,n=e.index;return r.createElement("td",{colSpan:5},r.createElement(u.A,{hover:!0,striped:!0,bordered:!0,variant:"info",style:{borderRadius:"8px",overflow:"hidden"}},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{scope:"col"},"Name"),r.createElement("th",{scope:"col"},"Description"),r.createElement("th",{scope:"col"},"Container ID"),r.createElement("th",{scope:"col"},"Quantity"))),r.createElement("tbody",null,t.map((function(e,t){var a,o,c;return r.createElement("tr",{key:"container-".concat(n,"-").concat(t)},r.createElement("th",{scope:"row"},null===(a=e.container)||void 0===a?void 0:a.name),r.createElement("td",null,null===(o=e.container)||void 0===o?void 0:o.description),r.createElement("td",null,null===(c=e.container)||void 0===c?void 0:c.scannerId),r.createElement("td",null,e.quantity))})))))},v=function(e){var t=e.item,n=e.index,a=e.onDelete,o=e.onEdit;return r.createElement(r.Fragment,null,r.createElement("tr",{key:"item-".concat(n),className:"table-secondary",id:"item-".concat(n),"data-bs-toggle":"collapse","data-bs-target":"#ContainerRow-".concat(n)},r.createElement("th",{scope:"row"},t.name),r.createElement("td",null,t.description),r.createElement("td",null,t.tags&&t.tags.length>0&&r.createElement(r.Fragment,null,t.tags.map((function(e,t){return r.createElement(p.A,{key:"tag-".concat(n,"-").concat(t),tag:e})})))),r.createElement("td",null,r.createElement(f.A,{"aria-label":"Component Functionality"},r.createElement(h.A,{variant:"info",size:"sm",onClick:function(){return o(t.id)}},"Edit"),r.createElement(h.A,{variant:"danger",size:"sm",onClick:function(){return a(t.id)}},"Delete")))),(null==t?void 0:t.containerItems)&&t.containerItems.length>0&&r.createElement(s.A.Collapse,{as:"tr",eventKey:"".concat(n),id:"ContainerRow-".concat(n)},r.createElement(E,{containerItems:t.containerItems,index:n})))};var b=n(5914),y=function(){return y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},y.apply(this,arguments)},g=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{i(r.next(e))}catch(e){o(e)}}function l(e){try{i(r.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,l)}i((r=r.apply(e,t||[])).next())}))},w=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=l(0),c.throw=l(1),c.return=l(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function l(l){return function(i){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},k=(0,r.lazy)((function(){return Promise.all([n.e(819),n.e(562),n.e(709),n.e(759),n.e(185),n.e(584),n.e(66),n.e(539),n.e(359),n.e(405),n.e(935),n.e(658),n.e(929),n.e(645),n.e(930),n.e(98),n.e(34),n.e(629),n.e(76)]).then(n.bind(n,3552))})),A=(0,r.lazy)((function(){return Promise.all([n.e(819),n.e(562),n.e(709),n.e(759),n.e(185),n.e(584),n.e(66),n.e(539),n.e(359),n.e(405),n.e(935),n.e(658),n.e(929),n.e(645),n.e(930),n.e(98),n.e(34),n.e(629),n.e(76),n.e(931)]).then(n.bind(n,6931))}));const S=function(){var e=this,t=(0,r.useState)(0),n=t[0],f=t[1],h=(0,r.useState)(1),p=h[0],E=h[1],S=(0,r.useState)([]),D=S[0],x=S[1],C=(0,r.useState)(""),O=C[0],I=C[1],N=(0,r.useState)(-1),P=N[0],R=N[1],T=(0,r.useState)(void 0),j=T[0],z=T[1],F=(0,r.useState)(),q=F[0],G=F[1],K=(0,r.useState)(void 0),Q=K[0],V=K[1],B=(0,r.useState)(),H=B[0],J=B[1],L=(0,r.useState)(!1),M=L[0],U=L[1],W=(0,a.mN)({defaultValues:{},resolver:(0,l.u)(b.nE)});(0,r.useEffect)((function(){X(),z(-1)}),[n,O]);var X=function(){return g(e,void 0,void 0,(function(){var e,t,r;return w(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),e="/api/item?page=".concat(n,"&search=").concat(O),[4,c.A.get(e)];case 1:return t=a.sent(),x(t.data.content),E(t.data.totalPages>0?t.data.totalPages:1),[3,3];case 2:return r=a.sent(),console.error("Request failed: ",r),[3,3];case 3:return[2]}}))}))},Y=function(){return g(e,void 0,void 0,(function(){var e;return w(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,c.A.delete("/api/item/delete?id=".concat(P))];case 1:return t.sent(),x(D.filter((function(e){return e.id!==P}))),[3,3];case 2:return e=t.sent(),console.error("Error deleteing entry: ",e),[3,3];case 3:return[2]}}))}))},Z=function(t,n){return g(e,void 0,void 0,(function(){var e;return w(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,c.A.delete("/api/link?id=".concat(n))];case 1:return t.sent(),X(),[2,!0];case 2:return e=t.sent(),console.error("Error deleting link: ",e),[2,!1];case 3:return[2]}}))}))},$=function(t){return g(e,void 0,void 0,(function(){var e,n;return w(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,c.A.get("/api/item/edit?itemId=".concat(t))];case 1:return e=r.sent().data,G(e),z(e.itemDTO.item.id),[3,3];case 2:return n=r.sent(),console.error("Error fetching item: ",n),[3,3];case 3:return[2]}}))}))},_=function(e,t){J((function(){return e})),V(t),U(!0)};return r.createElement(i.A,{fluid:!0},r.createElement(m.A,{onSearch:I}),r.createElement(k,{show:M,handleClose:function(){return U(!1)},onDelete:H,message:Q}),r.createElement(a.Op,y({},W),r.createElement("form",{onSubmit:W.handleSubmit((function(t){return g(e,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,c.A.patch("/api/item/edit",t)];case 1:return e.sent(),z(-1),X(),[2]}}))}))}))},r.createElement(u.A,{hover:!0,bordered:!0,variant:"secondary",className:"mx-auto",style:{borderRadius:"8px",overflow:"hidden"}},r.createElement("thead",null,r.createElement("tr",{className:"table-secondary"},r.createElement("th",{scope:"col"},"Name"),r.createElement("th",{scope:"col"},"Description"),r.createElement("th",{scope:"col"},"Tag(s)"),r.createElement("th",{scope:"col"},r.createElement(o.k2,{to:"/item/form",className:"btn btn-primary btn-sm",role:"button"},"Create")))),r.createElement(s.A,{as:"tbody",className:"table-group-divider"},D.length>0?D.map((function(e,t){return r.createElement(r.Fragment,null,j===e.id?r.createElement(A,{key:"editRow",itemDTO:null==q?void 0:q.itemDTO,containerDTOs:null==q?void 0:q.containerDTOs,setupDelete:_,handleDelete:Z,cancelEdit:z}):r.createElement(v,{key:"readRow",item:e,index:t,onDelete:function(e){R(e),_(Y,"Are you sure you want to delete this item?")},onEdit:$}))})):r.createElement("div",null,"No items match the requested search term (",O,")"))))),0!==D.length&&r.createElement(d.A,{currentPage:n,totalPages:p,onPageChange:f}))}}}]);