"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[931],{6931:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var a=n(6540),l=n(9785),r=n(9668),o=function(){return o=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},o.apply(this,arguments)};const c=function(e){var t=e.containerDTOs,n=e.register,l=e.setError,r=e.index,c=e.link,i=e.setValue,s=e.setFocus;return a.createElement("div",{className:"input-group"},a.createElement("input",o({},n("links.".concat(r,".scannerId")),{id:"linkId-".concat(r),className:"form-control dropdown-toggle",defaultValue:c.scannerId,disabled:void 0!==c.linkId,"data-bs-toggle":"dropdown","aria-expanded":"false",onChange:function(e){i("links.".concat(r,".scannerId"),e.target.value.trim())},onBlur:function(e){var n=e.target.value.trim();n&&!(null==t?void 0:t.find((function(e){return e.scannerId===n})))&&l("links.".concat(r,".scannerId"),{message:"Container ID does not exist"})}})),a.createElement("button",{className:"btn btn-primary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",disabled:void 0!==c.linkId,onClick:function(){s("links.".concat(r,".scannerId"))}}),a.createElement("ul",{className:"dropdown-menu dropdown-menu-end w-100",style:{maxHeight:"200px",overflowY:"auto"}},t&&t.map((function(e){return a.createElement(a.Fragment,null,a.createElement("li",null,a.createElement("a",{className:"dropdown-item",onClick:function(){return t=e.scannerId,void i("links.".concat(r,".scannerId"),t);var t}},e.scannerId+" ("+e.name+")")))}))))};var i=function(){return i=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},i.apply(this,arguments)};const s=function(e){var t,n,o=e.itemDTO,s=e.containerDTOs,u=e.handleDelete,d=e.cancelEdit,m=(0,l.xW)(),p=m.register,f=m.formState,b=f.errors,v=f.isSubmitting,g=m.control,k=m.setFocus,E=m.reset,h=m.trigger,y=m.setError,I=m.setValue,w=(0,l.jz)({control:g,name:"links"}),N=w.fields,x=w.append,O=w.remove,C=(0,l.FH)({control:g,name:"links"});return(0,a.useEffect)((function(){var e,t,n;(null===(e=null==C?void 0:C[C.length-1])||void 0===e?void 0:e.scannerId)&&(x({scannerId:"",quantity:1}),setTimeout((function(){h("links"),k("links.".concat(C.length-1,".scannerId"))}),0)),(null==C?void 0:C.length)>1&&!(null===(t=null==C?void 0:C[C.length-2])||void 0===t?void 0:t.scannerId)&&!(null===(n=null==C?void 0:C[C.length-1])||void 0===n?void 0:n.scannerId)&&O(C.length-1)}),[C]),(0,a.useEffect)((function(){E(o),x({scannerId:"",quantity:1}),h("links")}),[o,E]),a.createElement(a.Fragment,null,a.createElement("tr",{key:"item-edit-".concat(null==o?void 0:o.item.id),className:"table-primary"},a.createElement("td",null,a.createElement("input",i({},p("item.name"),{type:"text",id:"nameInput",className:"form-control",placeholder:"Item Name",autoFocus:!0})),(null===(t=b.item)||void 0===t?void 0:t.name)&&a.createElement("p",null,"".concat(b.item.name.message))),a.createElement("td",null,a.createElement("textarea",i({},p("item.description"),{id:"descriptionTextArea",className:"form-control",placeholder:"Item Description"})),(null===(n=b.item)||void 0===n?void 0:n.description)&&a.createElement("p",null,"".concat(b.item.description.message))),a.createElement("td",null,a.createElement(r.A,{control:g,name:"item.tags"})),a.createElement("td",null,a.createElement("div",{className:"btn-group"},a.createElement("button",{type:"submit",className:"btn btn-info btn-sm",disabled:v||Object.keys(b).length>0}," Save "),a.createElement("button",{type:"button",className:"btn btn-danger btn-sm",onClick:function(){return d(-1)}},"Discard")))),a.createElement("tr",{className:"table-primary"},a.createElement("td",{colSpan:5},a.createElement("table",{id:"linkTable",className:"table table-info table-striped"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{scope:"col"},"Container ID"),a.createElement("th",{scope:"col"},"Quantity"),a.createElement("th",{scope:"col"},"Remove"))),a.createElement("tbody",{id:"linkTableBody",className:"link"},N.map((function(e,t){var n,l,r;return a.createElement("tr",{key:"link-".concat(e.id),"data-key":"link-".concat(e.id)},a.createElement("td",null,s&&a.createElement(c,{key:"link-combobox-".concat(e.id),containerDTOs:s,register:p,setError:y,index:t,link:e,setValue:I,setFocus:k}),(null===(l=null===(n=b.links)||void 0===n?void 0:n[t])||void 0===l?void 0:l.scannerId)&&a.createElement("li",{className:"list-group-item text-danger"},"".concat(b.links[t].scannerId.message))),a.createElement("td",null,a.createElement("input",i({},p("links.".concat(t,".quantity"),{valueAsNumber:!0}),{className:"form-control",defaultValue:e.quantity}))),a.createElement("td",null,a.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:function(){return function(e,t){return n=void 0,a=void 0,r=function(){return function(e,t){var n,a,l,r={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(c){return function(i){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,a&&(l=2&c[0]?a.return:c[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,c[1])).done)return l;switch(a=0,l&&(c=[2&c[0],l.value]),c[0]){case 0:case 1:l=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,a=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!((l=(l=r.trys).length>0&&l[l.length-1])||6!==c[0]&&2!==c[0])){r=0;continue}if(3===c[0]&&(!l||c[1]>l[0]&&c[1]<l[3])){r.label=c[1];break}if(6===c[0]&&r.label<l[1]){r.label=l[1],l=c;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(c);break}l[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(e){c=[6,e],a=0}finally{n=l=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,i])}}}(this,(function(n){switch(n.label){case 0:return void 0===t?(C.length>1&&O(e),[2]):[4,u(e,t)];case 1:return n.sent()&&O(e),[2]}}))},new((l=void 0)||(l=Promise))((function(e,t){function o(e){try{i(r.next(e))}catch(e){t(e)}}function c(e){try{i(r.throw(e))}catch(e){t(e)}}function i(t){var n;t.done?e(t.value):(n=t.value,n instanceof l?n:new l((function(e){e(n)}))).then(o,c)}i((r=r.apply(n,a||[])).next())}));var n,a,l,r}(t,e.linkId?e.linkId:void 0)}})),b.links&&b.links[t]&&a.createElement("p",null,null===(r=b.links[t])||void 0===r?void 0:r.message))})))))))}}}]);