"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[209],{5310:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(1601),a=n.n(r),c=n(6314),o=n.n(c)()(a());o.push([e.id,".collapsing {\n    transition: none !important;\n}",""]);const l=o},6209:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var r=n(6540),a=n(9785),c=n(4976),o=n(1083),l=n(893),i=n(5076),s=n(5072),u=n.n(s),m=n(7825),d=n.n(m),f=n(7659),p=n.n(f),h=n(5056),b=n.n(h),E=n(540),v=n.n(E),y=n(1113),g=n.n(y),w=n(5310),S={};S.styleTagTransform=g(),S.setAttributes=b(),S.insert=p().bind(null,"head"),S.domAPI=d(),S.insertStyleElement=v(),u()(w.A,S),w.A&&w.A.locals&&w.A.locals;const k=function(e){var t=e.onSearch;return r.createElement("div",{className:"container mt-5"},r.createElement("div",{className:"input-group mb-3"},r.createElement("input",{type:"text",className:"form-control","aria-label":"Search",id:"searchInput",placeholder:"Search",onChange:function(e){t(e.target.value)}})))};var N=n(8917);const A=function(e){var t=e.containerItems,n=e.index;return r.createElement(r.Fragment,null,r.createElement("table",{className:"table table-info table-hover table-striped"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{scope:"col"},"Name"),r.createElement("th",{scope:"col"},"Description"),r.createElement("th",{scope:"col"},"Container ID"),r.createElement("th",{scope:"col"},"Quantity"))),r.createElement("tbody",null,t.map((function(e,t){var a,c,o;return r.createElement("tr",{key:"container-".concat(n,"-").concat(t)},r.createElement("th",{scope:"row"},null===(a=e.container)||void 0===a?void 0:a.name),r.createElement("td",null,null===(c=e.container)||void 0===c?void 0:c.description),r.createElement("td",null,null===(o=e.container)||void 0===o?void 0:o.scannerId),r.createElement("td",null,e.quantity))})))))},D=function(e){var t=e.item,n=e.index,a=e.onDelete,c=e.onEdit,o=(0,r.useState)(!1),l=o[0],i=o[1];return r.createElement(r.Fragment,null,r.createElement("tr",{key:"item-".concat(n),className:"table-secondary",id:"item-".concat(n)},r.createElement("th",{scope:"row"},t.name),r.createElement("td",null,t.description),r.createElement("td",null,t.tags&&t.tags.length>0&&r.createElement(r.Fragment,null,t.tags.map((function(e,t){return r.createElement(N.A,{key:"tag-".concat(n,"-").concat(t),tag:e})})))),r.createElement("td",null,r.createElement("div",{className:"btn-group"},r.createElement("button",{type:"button",className:"btn btn-info btn-sm",onClick:function(){return c(t.id)}},"Edit"),r.createElement("button",{className:"btn btn-sm ".concat(l?"btn-warning":"btn-success"),type:"button",onClick:function(){return i(!l)}},r.createElement("i",{className:"bi ".concat(l?"bi-arrow-up":"bi-arrow-down")})),r.createElement("button",{type:"button",onClick:function(){return a(t.id)},className:"btn btn-danger btn-sm"},"Delete")))),(null==t?void 0:t.containerItems)&&t.containerItems.length>0&&r.createElement("tr",{className:l?"table-secondary collapse show":"table-secondary collapse",id:"containers-".concat(t.id)},r.createElement("td",{colSpan:6},r.createElement(A,{containerItems:t.containerItems,index:n}))))};var x=n(5914),I=function(){return I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},I.apply(this,arguments)},O=function(e,t,n,r){return new(n||(n=Promise))((function(a,c){function o(e){try{i(r.next(e))}catch(e){c(e)}}function l(e){try{i(r.throw(e))}catch(e){c(e)}}function i(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}i((r=r.apply(e,t||[])).next())}))},C=function(e,t){var n,r,a,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(i){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(c=0)),c;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return c.label++,{value:l[1],done:!1};case 5:c.label++,r=l[1],l=[0];continue;case 7:l=c.ops.pop(),c.trys.pop();continue;default:if(!((a=(a=c.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){c=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){c.label=l[1];break}if(6===l[0]&&c.label<a[1]){c.label=a[1],a=l;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(l);break}a[2]&&c.ops.pop(),c.trys.pop();continue}l=t.call(e,c)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},P=(0,r.lazy)((function(){return Promise.all([n.e(819),n.e(501),n.e(709),n.e(759),n.e(185),n.e(584),n.e(66),n.e(115),n.e(658),n.e(98),n.e(306),n.e(319),n.e(76)]).then(n.bind(n,3552))})),T=(0,r.lazy)((function(){return Promise.all([n.e(76),n.e(931)]).then(n.bind(n,6931))}));const j=function(){var e=this,t=(0,r.useState)(0),n=t[0],s=t[1],u=(0,r.useState)(1),m=u[0],d=u[1],f=(0,r.useState)([]),p=f[0],h=f[1],b=(0,r.useState)(""),E=b[0],v=b[1],y=(0,r.useState)(-1),g=y[0],w=y[1],S=(0,r.useState)(void 0),N=S[0],A=S[1],j=(0,r.useState)(),F=j[0],R=j[1],q=(0,r.useState)(void 0),z=q[0],G=q[1],Q=(0,r.useState)(),V=Q[0],B=Q[1],H=(0,r.useState)(!1),J=H[0],K=H[1],L=(0,a.mN)({defaultValues:{},resolver:(0,l.u)(x.nE)});(0,r.useEffect)((function(){M(),A(-1)}),[n,E]);var M=function(){return O(e,void 0,void 0,(function(){var e,t,r;return C(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),e="/api/item?page=".concat(n,"&search=").concat(E),[4,o.A.get(e)];case 1:return t=a.sent(),h(t.data.content),p.length>0&&d(t.data.totalPages),[3,3];case 2:return r=a.sent(),console.error("Request failed: ",r),[3,3];case 3:return[2]}}))}))},U=function(){return O(e,void 0,void 0,(function(){var e;return C(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,o.A.delete("/api/item/delete?id=".concat(g))];case 1:return t.sent(),h(p.filter((function(e){return e.id!==g}))),[3,3];case 2:return e=t.sent(),console.error("Error deleteing entry: ",e),[3,3];case 3:return[2]}}))}))},W=function(t,n){return O(e,void 0,void 0,(function(){var e;return C(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,o.A.delete("/api/link?id=".concat(n))];case 1:return t.sent(),M(),[2,!0];case 2:return e=t.sent(),console.error("Error deleting link: ",e),[2,!1];case 3:return[2]}}))}))},X=function(t){return O(e,void 0,void 0,(function(){var e,n;return C(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,o.A.get("/api/item/edit?itemId=".concat(t))];case 1:return e=r.sent().data,R(e),A(e.itemDTO.item.id),[3,3];case 2:return n=r.sent(),console.error("Error fetching item: ",n),[3,3];case 3:return[2]}}))}))},Y=function(e,t){B((function(){return e})),G(t),K(!0)};return r.createElement("div",{className:"container-fluid"},r.createElement(k,{onSearch:v}),r.createElement(P,{show:J,handleClose:function(){return K(!1)},onDelete:V,message:z}),r.createElement(a.Op,I({},L),r.createElement("form",{onSubmit:L.handleSubmit((function(t){return O(e,void 0,void 0,(function(){return C(this,(function(e){switch(e.label){case 0:return[4,o.A.patch("/api/item/edit",t)];case 1:return e.sent(),A(-1),M(),[2]}}))}))}))},r.createElement("table",{className:"table table-secondary table-hover mx-auto",style:{borderRadius:"8px",overflow:"hidden"}},r.createElement("thead",null,r.createElement("tr",{className:"table-secondary"},r.createElement("th",{scope:"col"},"Name"),r.createElement("th",{scope:"col"},"Description"),r.createElement("th",{scope:"col"},"Tag(s)"),r.createElement("th",{scope:"col"},r.createElement(c.k2,{to:"/item/form",className:"btn btn-primary btn-sm",role:"button"},"Create")))),r.createElement("tbody",{className:"table-group-divider"},p.length>0&&p.map((function(e,t){return r.createElement(r.Fragment,null,N===e.id?r.createElement(T,{key:"editRow",itemDTO:null==F?void 0:F.itemDTO,containerDTOs:null==F?void 0:F.containerDTOs,setupDelete:Y,handleDelete:W,cancelEdit:A}):r.createElement(D,{key:"readRow",item:e,index:t,onDelete:function(e){w(e),Y(U,"Are you sure you want to delete this item?")},onEdit:X}))})))))),r.createElement(i.A,{currentPage:n,totalPages:m,onPageChange:s}))}}}]);