"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[209],{5310:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(1601),a=n.n(r),c=n(6314),o=n.n(c)()(a());o.push([e.id,".collapsing {\n    transition: none !important;\n}",""]);const l=o},6209:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Q});var r=n(6540),a=n(9785),c=n(4976),o=n(1083),l=n(893),i=n(3048),s=n(2431),u=n(8894),d=n(5076),m=n(1100),f=n(1364),h=n(5072),p=n.n(h),E=n(7825),v=n.n(E),b=n(7659),y=n.n(b),g=n(5056),w=n.n(g),A=n(540),S=n.n(A),k=n(1113),D=n.n(k),x=n(5310),C={};C.styleTagTransform=D(),C.setAttributes=w(),C.insert=y().bind(null,"head"),C.domAPI=v(),C.insertStyleElement=S(),p()(x.A,C),x.A&&x.A.locals&&x.A.locals;const I=function(e){var t=e.onSearch;return r.createElement(i.A,{className:"mt-5"},r.createElement(m.A,{className:"mb-3"},r.createElement(f.A,{type:"text","aria-label":"Search",id:"searchInput",placeholder:"Search...",onChange:function(e){return t(e.target.value)}})))};var N=n(616),O=n(5615),P=n(8917);const T=function(e){var t=e.containerItems,n=e.index;return r.createElement("td",{colSpan:5},r.createElement(s.A,{hover:!0,striped:!0,bordered:!0,variant:"info",style:{borderRadius:"8px",overflow:"hidden"}},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{scope:"col"},"Name"),r.createElement("th",{scope:"col"},"Description"),r.createElement("th",{scope:"col"},"Container ID"),r.createElement("th",{scope:"col"},"Quantity"))),r.createElement("tbody",null,t.map((function(e,t){var a,c,o;return r.createElement("tr",{key:"container-".concat(n,"-").concat(t)},r.createElement("th",{scope:"row"},null===(a=e.container)||void 0===a?void 0:a.name),r.createElement("td",null,null===(c=e.container)||void 0===c?void 0:c.description),r.createElement("td",null,null===(o=e.container)||void 0===o?void 0:o.scannerId),r.createElement("td",null,e.quantity))})))))},R=function(e){var t=e.item,n=e.index,a=e.onDelete,c=e.onEdit;return r.createElement(r.Fragment,null,r.createElement("tr",{key:"item-".concat(n),className:"table-secondary",id:"item-".concat(n),"data-bs-toggle":"collapse","data-bs-target":"#ContainerRow-".concat(n)},r.createElement("th",{scope:"row"},t.name),r.createElement("td",null,t.description),r.createElement("td",null,t.tags&&t.tags.length>0&&r.createElement(r.Fragment,null,t.tags.map((function(e,t){return r.createElement(P.A,{key:"tag-".concat(n,"-").concat(t),tag:e})})))),r.createElement("td",null,r.createElement(N.A,{"aria-label":"Component Functionality"},r.createElement(O.A,{variant:"info",size:"sm",onClick:function(){return c(t.id)}},"Edit"),r.createElement(O.A,{variant:"danger",size:"sm",onClick:function(){return a(t.id)}},"Delete")))),(null==t?void 0:t.containerItems)&&t.containerItems.length>0&&r.createElement(u.A.Collapse,{as:"tr",eventKey:"".concat(n),id:"ContainerRow-".concat(n)},r.createElement(T,{containerItems:t.containerItems,index:n})))};var j=n(5914),z=function(){return z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},z.apply(this,arguments)},F=function(e,t,n,r){return new(n||(n=Promise))((function(a,c){function o(e){try{i(r.next(e))}catch(e){c(e)}}function l(e){try{i(r.throw(e))}catch(e){c(e)}}function i(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}i((r=r.apply(e,t||[])).next())}))},q=function(e,t){var n,r,a,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(i){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(c=0)),c;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return c.label++,{value:l[1],done:!1};case 5:c.label++,r=l[1],l=[0];continue;case 7:l=c.ops.pop(),c.trys.pop();continue;default:if(!((a=(a=c.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){c=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){c.label=l[1];break}if(6===l[0]&&c.label<a[1]){c.label=a[1],a=l;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(l);break}a[2]&&c.ops.pop(),c.trys.pop();continue}l=t.call(e,c)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},G=(0,r.lazy)((function(){return Promise.all([n.e(819),n.e(562),n.e(709),n.e(759),n.e(185),n.e(584),n.e(66),n.e(539),n.e(359),n.e(405),n.e(353),n.e(112),n.e(253),n.e(658),n.e(929),n.e(645),n.e(930),n.e(98),n.e(34),n.e(629),n.e(76)]).then(n.bind(n,3552))})),K=(0,r.lazy)((function(){return Promise.all([n.e(819),n.e(562),n.e(709),n.e(759),n.e(185),n.e(584),n.e(66),n.e(539),n.e(359),n.e(405),n.e(353),n.e(112),n.e(253),n.e(658),n.e(929),n.e(645),n.e(930),n.e(98),n.e(34),n.e(629),n.e(76),n.e(931)]).then(n.bind(n,6931))}));const Q=function(){var e=this,t=(0,r.useState)(0),n=t[0],m=t[1],f=(0,r.useState)(1),h=f[0],p=f[1],E=(0,r.useState)([]),v=E[0],b=E[1],y=(0,r.useState)(""),g=y[0],w=y[1],A=(0,r.useState)(-1),S=A[0],k=A[1],D=(0,r.useState)(void 0),x=D[0],C=D[1],N=(0,r.useState)(),O=N[0],P=N[1],T=(0,r.useState)(void 0),Q=T[0],V=T[1],B=(0,r.useState)(),H=B[0],J=B[1],L=(0,r.useState)(!1),M=L[0],U=L[1],W=(0,a.mN)({defaultValues:{},resolver:(0,l.u)(j.nE)});(0,r.useEffect)((function(){X(),C(-1)}),[n,g]);var X=function(){return F(e,void 0,void 0,(function(){var e,t,r;return q(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),e="/api/item?page=".concat(n,"&search=").concat(g),[4,o.A.get(e)];case 1:return t=a.sent(),b(t.data.content),p(t.data.totalPages>0?t.data.totalPages:1),[3,3];case 2:return r=a.sent(),console.error("Request failed: ",r),[3,3];case 3:return[2]}}))}))},Y=function(){return F(e,void 0,void 0,(function(){var e;return q(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,o.A.delete("/api/item/delete?id=".concat(S))];case 1:return t.sent(),b(v.filter((function(e){return e.id!==S}))),[3,3];case 2:return e=t.sent(),console.error("Error deleteing entry: ",e),[3,3];case 3:return[2]}}))}))},Z=function(t,n){return F(e,void 0,void 0,(function(){var e;return q(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,o.A.delete("/api/link?id=".concat(n))];case 1:return t.sent(),X(),[2,!0];case 2:return e=t.sent(),console.error("Error deleting link: ",e),[2,!1];case 3:return[2]}}))}))},$=function(t){return F(e,void 0,void 0,(function(){var e,n;return q(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,o.A.get("/api/item/edit?itemId=".concat(t))];case 1:return e=r.sent().data,P(e),C(e.itemDTO.item.id),[3,3];case 2:return n=r.sent(),console.error("Error fetching item: ",n),[3,3];case 3:return[2]}}))}))},_=function(e,t){J((function(){return e})),V(t),U(!0)};return r.createElement(i.A,{fluid:!0},r.createElement(I,{onSearch:w}),r.createElement(G,{show:M,handleClose:function(){return U(!1)},onDelete:H,message:Q}),r.createElement(a.Op,z({},W),r.createElement("form",{onSubmit:W.handleSubmit((function(t){return F(e,void 0,void 0,(function(){return q(this,(function(e){switch(e.label){case 0:return[4,o.A.patch("/api/item/edit",t)];case 1:return e.sent(),C(-1),X(),[2]}}))}))}))},r.createElement(s.A,{hover:!0,bordered:!0,variant:"secondary",className:"mx-auto",style:{borderRadius:"8px",overflow:"hidden"}},r.createElement("thead",null,r.createElement("tr",{className:"table-secondary"},r.createElement("th",{scope:"col"},"Name"),r.createElement("th",{scope:"col"},"Description"),r.createElement("th",{scope:"col"},"Tag(s)"),r.createElement("th",{scope:"col"},r.createElement(c.k2,{to:"/item/form",className:"btn btn-primary btn-sm",role:"button"},"Create")))),r.createElement(u.A,{as:"tbody",className:"table-group-divider"},v.length>0?v.map((function(e,t){return r.createElement(r.Fragment,null,x===e.id?r.createElement(K,{key:"editRow",itemDTO:null==O?void 0:O.itemDTO,containerDTOs:null==O?void 0:O.containerDTOs,setupDelete:_,handleDelete:Z,cancelEdit:C}):r.createElement(R,{key:"readRow",item:e,index:t,onDelete:function(e){k(e),_(Y,"Are you sure you want to delete this item?")},onEdit:$}))})):r.createElement("div",null,"No items match the requested search term (",g,")"))))),0!==v.length&&r.createElement(d.A,{currentPage:n,totalPages:h,onPageChange:m}))}}}]);