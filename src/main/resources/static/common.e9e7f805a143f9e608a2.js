"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[76],{3552:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var r=n(6540),a=n(8984),o=n(5615);const c=function(e){var t=e.show,n=e.handleClose,c=e.onDelete,l=e.message;return r.createElement(a.A,{show:t,onHide:n},r.createElement(a.A.Header,{closeButton:!0},r.createElement(a.A.Title,null,"Delete")),r.createElement(a.A.Body,null,l),r.createElement(a.A.Footer,null,r.createElement(o.A,{variant:"secondary",onClick:n},"Cancel"),r.createElement(o.A,{variant:"danger",onClick:function(){c&&c(),n()}},"Delete")))}},5076:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(6540),a=n(3905),o=n(1069);const c=function(e){var t=e.currentPage,n=e.totalPages,c=e.onPageChange,l=(0,a.c)(t,n,3,2);return r.createElement(o.A,{className:"justify-content-start"},r.createElement(o.A.First,{onClick:function(){return c(0)}}),r.createElement(o.A.Prev,{disabled:0===t,onClick:function(){return c(t-1)}}),l.map((function(e,n){return r.createElement(r.Fragment,null,"..."===e?r.createElement(o.A.Ellipsis,{disabled:!0}):r.createElement(o.A.Item,{key:"page-".concat(n),onClick:function(){return c(n)},active:t===n},e))})),r.createElement(o.A.Next,{disabled:t===n-1}),r.createElement(o.A.Last,{onClick:function(){return c(n-1)}}))}},8917:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(6540);const a=function(e){var t=e.tag,n=t.color.replace("#",""),a=(16711422&parseInt(n,16))>>1,o="#".concat(a.toString(16).padStart(6,"0"));return r.createElement("div",{className:"d-inline-flex badge rounded-pill align-items-center",style:{backgroundColor:t.color,border:"3px solid ".concat(o),marginRight:3}},r.createElement("span",{style:{color:o,whiteSpace:"nowrap"}},t.tag))}},9668:(e,t,n)=>{n.d(t,{A:()=>p});var r=n(6540),a=n(9785),o=n(1083);const c=function(e){var t=e.control,n=e.name,o=e.onDelete,c=(0,a.as)({control:t,name:n}).field,l=c.value.color.replace("#",""),i=(16711422&parseInt(l,16))>>1,u="#".concat(i.toString(16).padStart(6,"0"));return r.createElement("div",{className:"d-inline-flex badge rounded-pill align-items-center",style:{backgroundColor:c.value.color,border:"3px solid ".concat(u),marginRight:3}},r.createElement("span",{style:{color:u,paddingRight:10,whiteSpace:"nowrap"}},c.value.tag),r.createElement("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:o}))};var l=n(8917),i=n(1100),u=n(4869),s=n(7303),d=n(180),m=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{i(r.next(e))}catch(e){o(e)}}function l(e){try{i(r.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,l)}i((r=r.apply(e,t||[])).next())}))},f=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=l(0),c.throw=l(1),c.return=l(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function l(l){return function(i){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}};const p=function(e){var t=e.control,n=e.name,p=(0,r.useState)("#FF0000"),g=p[0],v=p[1],b=(0,r.useState)(""),h=b[0],y=b[1],E=(0,r.useState)(""),A=E[0],w=E[1],k=(0,r.useState)(""),C=k[0],z=k[1],I=(0,r.useState)([]),x=I[0],S=I[1],N=(0,r.useState)(!1),T=N[0],j=N[1],D=(0,r.useRef)(null),R=(0,r.useState)(0),q=R[0],F=R[1],P=(0,a.jz)({control:t,name:n,keyName:"key"}),L=P.fields,B=P.append,H=P.remove;(0,r.useEffect)((function(){m(void 0,void 0,void 0,(function(){var e,t;return f(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,o.A.get("/api/tags")];case 1:return e=n.sent().data,S(e),[3,3];case 2:return t=n.sent(),console.log("Request failed: ",t),[3,3];case 3:return[2]}}))}))}),[L]),(0,r.useEffect)((function(){if(D.current){var e=D.current.getBoundingClientRect().height;F(e)}}),[]);var O=function(e){return m(void 0,void 0,void 0,(function(){var t,n;return f(this,(function(r){switch(r.label){case 0:return console.log("Add Tag"),e?(t=e,[3,4]):[3,1];case 1:return r.trys.push([1,3,,4]),console.log("Try"),0===h.length?(z("The tag must have a value"),[2]):[4,o.A.post("/api/tags/create",{id:void 0,tag:h,color:g,description:A})];case 2:return t=r.sent().data,console.log("newTag"),[3,4];case 3:return n=r.sent(),console.error(n),[2];case 4:return B(t),y(""),w(""),z(""),[2]}}))}))};return r.createElement("div",null,r.createElement("div",{className:"mb-3"},r.createElement(i.A,null,r.createElement(u.A,{show:T,onToggle:function(){return j(!T)}},r.createElement(s.A,{controlId:"floatingNameInput",label:"Tag Name"},r.createElement(d.A.Control,{type:"text",id:"tagInput",onChange:function(e){return y(e.target.value)},value:h,onClick:function(){return j(!T)},ref:D})),r.createElement(u.A.Menu,{className:"w-100",style:{marginTop:"".concat(q,"px")}},x.length>0?x.filter((function(e){var t=h.toLowerCase(),n=e.tag.toLowerCase();return!(t.length>0&&!n.startsWith(t)||L.some((function(e){return e.tag.toLowerCase()===n})))})).map((function(e,t){return r.createElement(u.A.Item,{key:"db-tags-".concat(t),onClick:function(){return O(e)}},r.createElement(l.A,{tag:e}))})):r.createElement(u.A.Item,{disabled:!0},"No tags were found"))),r.createElement(s.A,{controlId:"floatingDescriptionInput",label:"Tag Description"},r.createElement(d.A.Control,{type:"text",id:"descriptionInput",onChange:function(e){return w(e.target.value)},value:A})),r.createElement(d.A.Control,{type:"color",id:"colorInput",className:"form-control",value:g,onChange:function(e){return v(e.target.value)},style:{height:"".concat(q,"px"),width:"30px"}}),r.createElement("button",{onClick:function(){return O()},type:"button",className:"btn btn-warning"},"Add")),r.createElement("div",{className:"form-text text-danger"},C)),L.map((function(e,n){return r.createElement(c,{key:"tag-".concat(e.key),control:t,name:"item.tags.".concat(n),onDelete:function(){return function(e){return m(void 0,void 0,void 0,(function(){return f(this,(function(t){try{H(e)}catch(e){console.error(e)}return[2]}))}))}(n)}})})))}},5914:(e,t,n)=>{n.d(t,{nE:()=>i});var r=n(4476),a=r.z.object({id:r.z.number(),quantity:r.z.number().optional()}),o=r.z.object({id:r.z.number(),tag:r.z.string({message:"A tag is required"}),color:r.z.string(),description:r.z.string()}),c=r.z.object({id:r.z.number().optional(),name:r.z.string({message:"The Item name is required"}),description:r.z.string().optional(),containerItems:r.z.array(a).optional(),tags:r.z.array(o).optional()}),l=r.z.object({scannerId:r.z.string().optional(),quantity:r.z.number().optional(),linkId:r.z.number().optional().nullable()}).optional(),i=r.z.object({item:c,links:r.z.array(l)})}}]);