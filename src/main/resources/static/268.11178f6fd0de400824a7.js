"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[268],{5268:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var r=n(6540),a=n(7767),o=n(4976),c=n(1083),l=n(5076),u=n(3552),s=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function c(e){try{u(r.next(e))}catch(e){o(e)}}function l(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,l)}u((r=r.apply(e,t||[])).next())}))},i=function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=l(0),c.throw=l(1),c.return=l(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function l(l){return function(u){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,l[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}};const d=function(){var e=this,t=(0,r.useState)(0),n=t[0],d=t[1],f=(0,r.useState)(1),p=f[0],m=f[1],b=(0,r.useState)([]),h=b[0],y=b[1],E=(0,r.useState)(-1),v=E[0],g=E[1],w=(0,r.useState)(!1),k=w[0],C=w[1],S=(0,a.Zp)();return(0,r.useEffect)((function(){s(e,void 0,void 0,(function(){var e,t,r;return i(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),e="/api/container?page=".concat(n),[4,c.A.get(e)];case 1:return t=a.sent(),y(t.data.content),h.length>0&&m(t.data.totalPages),[3,3];case 2:return r=a.sent(),console.log("Request failed: ",r),[3,3];case 3:return[2]}}))}))}),[n]),r.createElement("div",null,r.createElement("table",{className:"table table-secondary table-hover"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{scope:"col"},"id"),r.createElement("th",{scope:"col"},"Name"),r.createElement("th",{scope:"col"},"Description"),r.createElement("th",{scope:"col"},"Scanner ID"),r.createElement("th",{scope:"col"},"Parent Container ID"),r.createElement("th",{scope:"col"},r.createElement(o.k2,{to:"/container/form",className:"btn btn-primary btn-sm",role:"button"},"Create")))),r.createElement("tbody",{className:"table-group-divider"},h.map((function(t){return r.createElement("tr",{key:"container-".concat(t.id)},r.createElement("th",{scope:"row"},t.id),r.createElement("td",null,t.name),r.createElement("td",null,t.description),r.createElement("td",null,t.scannerId),r.createElement("td",null,t.parentContainer),r.createElement("td",null,r.createElement("div",{className:"btn-group"},r.createElement("button",{type:"button",className:"btn btn-info btn-sm",onClick:function(){return n=t.id,s(e,void 0,void 0,(function(){var e,t;return i(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,c.A.get("/api/container/edit?id=".concat(n))];case 1:return e=r.sent().data,S("/container/form",{state:{response:e}}),[3,3];case 2:return t=r.sent(),console.error("Error deleteing entry: ",t),[3,3];case 3:return[2]}}))}));var n}},"Edit"),r.createElement("button",{type:"button",onClick:function(){g(t.id),C(!0)},className:"btn btn-danger btn-sm","data-bs-toggle":"modal","data-bs-target":"#confirmationModal"},"Delete"))))})))),r.createElement(l.A,{currentPage:n,totalPages:p,onPageChange:d}),r.createElement(u.default,{show:k,handleClose:function(){return C(!1)},onDelete:function(){return s(e,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,c.A.delete("/api/container/delete?id=".concat(v))];case 1:return t.sent(),y(h.filter((function(e){return e.id!==v}))),[3,3];case 2:return e=t.sent(),console.error("Error deleteing entry: ",e),[3,3];case 3:return[2]}}))}))},message:"Are you sure you want to delete this container?"}))}}}]);