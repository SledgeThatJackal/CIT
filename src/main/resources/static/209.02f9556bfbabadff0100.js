"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[209],{5310:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(1601),a=n.n(r),c=n(6314),o=n.n(c)()(a());o.push([e.id,".collapsing {\n    transition: none !important;\n}",""]);const l=o},6209:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});var r=n(6540),a=n(9785),c=n(4976),o=n(1083),l=n(893),i=n(3048),s=n(2431),u=n(5076),m=n(5072),d=n.n(m),f=n(7825),p=n.n(f),h=n(7659),b=n.n(h),E=n(5056),v=n.n(E),y=n(540),g=n.n(y),w=n(1113),S=n.n(w),k=n(5310),N={};N.styleTagTransform=S(),N.setAttributes=v(),N.insert=b().bind(null,"head"),N.domAPI=p(),N.insertStyleElement=g(),d()(k.A,N),k.A&&k.A.locals&&k.A.locals;const A=function(e){var t=e.onSearch;return r.createElement("div",{className:"container mt-5"},r.createElement("div",{className:"input-group mb-3"},r.createElement("input",{type:"text",className:"form-control","aria-label":"Search",id:"searchInput",placeholder:"Search",onChange:function(e){t(e.target.value)}})))};var D=n(8917);const x=function(e){var t=e.containerItems,n=e.index;return r.createElement(r.Fragment,null,r.createElement("table",{className:"table table-info table-hover table-striped"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{scope:"col"},"Name"),r.createElement("th",{scope:"col"},"Description"),r.createElement("th",{scope:"col"},"Container ID"),r.createElement("th",{scope:"col"},"Quantity"))),r.createElement("tbody",null,t.map((function(e,t){var a,c,o;return r.createElement("tr",{key:"container-".concat(n,"-").concat(t)},r.createElement("th",{scope:"row"},null===(a=e.container)||void 0===a?void 0:a.name),r.createElement("td",null,null===(c=e.container)||void 0===c?void 0:c.description),r.createElement("td",null,null===(o=e.container)||void 0===o?void 0:o.scannerId),r.createElement("td",null,e.quantity))})))))},I=function(e){var t=e.item,n=e.index,a=e.onDelete,c=e.onEdit,o=(0,r.useState)(!1),l=o[0],i=o[1];return r.createElement(r.Fragment,null,r.createElement("tr",{key:"item-".concat(n),className:"table-secondary",id:"item-".concat(n)},r.createElement("th",{scope:"row"},t.name),r.createElement("td",null,t.description),r.createElement("td",null,t.tags&&t.tags.length>0&&r.createElement(r.Fragment,null,t.tags.map((function(e,t){return r.createElement(D.A,{key:"tag-".concat(n,"-").concat(t),tag:e})})))),r.createElement("td",null,r.createElement("div",{className:"btn-group"},r.createElement("button",{type:"button",className:"btn btn-info btn-sm",onClick:function(){return c(t.id)}},"Edit"),r.createElement("button",{className:"btn btn-sm ".concat(l?"btn-warning":"btn-success"),type:"button",onClick:function(){return i(!l)}},r.createElement("i",{className:"bi ".concat(l?"bi-arrow-up":"bi-arrow-down")})),r.createElement("button",{type:"button",onClick:function(){return a(t.id)},className:"btn btn-danger btn-sm"},"Delete")))),(null==t?void 0:t.containerItems)&&t.containerItems.length>0&&r.createElement("tr",{className:l?"table-secondary collapse show":"table-secondary collapse",id:"containers-".concat(t.id)},r.createElement("td",{colSpan:6},r.createElement(x,{containerItems:t.containerItems,index:n}))))};var O=n(5914),C=function(){return C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},C.apply(this,arguments)},P=function(e,t,n,r){return new(n||(n=Promise))((function(a,c){function o(e){try{i(r.next(e))}catch(e){c(e)}}function l(e){try{i(r.throw(e))}catch(e){c(e)}}function i(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}i((r=r.apply(e,t||[])).next())}))},T=function(e,t){var n,r,a,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(i){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(c=0)),c;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return c.label++,{value:l[1],done:!1};case 5:c.label++,r=l[1],l=[0];continue;case 7:l=c.ops.pop(),c.trys.pop();continue;default:if(!((a=(a=c.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){c=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){c.label=l[1];break}if(6===l[0]&&c.label<a[1]){c.label=a[1],a=l;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(l);break}a[2]&&c.ops.pop(),c.trys.pop();continue}l=t.call(e,c)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},j=(0,r.lazy)((function(){return Promise.all([n.e(819),n.e(562),n.e(709),n.e(759),n.e(185),n.e(584),n.e(66),n.e(539),n.e(359),n.e(405),n.e(935),n.e(658),n.e(929),n.e(645),n.e(930),n.e(98),n.e(34),n.e(629),n.e(76)]).then(n.bind(n,3552))})),F=(0,r.lazy)((function(){return Promise.all([n.e(819),n.e(562),n.e(709),n.e(759),n.e(185),n.e(584),n.e(66),n.e(539),n.e(359),n.e(405),n.e(935),n.e(658),n.e(929),n.e(645),n.e(930),n.e(98),n.e(34),n.e(629),n.e(76),n.e(931)]).then(n.bind(n,6931))}));const R=function(){var e=this,t=(0,r.useState)(0),n=t[0],m=t[1],d=(0,r.useState)(1),f=d[0],p=d[1],h=(0,r.useState)([]),b=h[0],E=h[1],v=(0,r.useState)(""),y=v[0],g=v[1],w=(0,r.useState)(-1),S=w[0],k=w[1],N=(0,r.useState)(void 0),D=N[0],x=N[1],R=(0,r.useState)(),q=R[0],z=R[1],G=(0,r.useState)(void 0),Q=G[0],V=G[1],B=(0,r.useState)(),H=B[0],J=B[1],K=(0,r.useState)(!1),L=K[0],M=K[1],U=(0,a.mN)({defaultValues:{},resolver:(0,l.u)(O.nE)});(0,r.useEffect)((function(){W(),x(-1)}),[n,y]);var W=function(){return P(e,void 0,void 0,(function(){var e,t,r;return T(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),e="/api/item?page=".concat(n,"&search=").concat(y),[4,o.A.get(e)];case 1:return t=a.sent(),E(t.data.content),b.length>0&&p(t.data.totalPages),[3,3];case 2:return r=a.sent(),console.error("Request failed: ",r),[3,3];case 3:return[2]}}))}))},X=function(){return P(e,void 0,void 0,(function(){var e;return T(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,o.A.delete("/api/item/delete?id=".concat(S))];case 1:return t.sent(),E(b.filter((function(e){return e.id!==S}))),[3,3];case 2:return e=t.sent(),console.error("Error deleteing entry: ",e),[3,3];case 3:return[2]}}))}))},Y=function(t,n){return P(e,void 0,void 0,(function(){var e;return T(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,o.A.delete("/api/link?id=".concat(n))];case 1:return t.sent(),W(),[2,!0];case 2:return e=t.sent(),console.error("Error deleting link: ",e),[2,!1];case 3:return[2]}}))}))},Z=function(t){return P(e,void 0,void 0,(function(){var e,n;return T(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,o.A.get("/api/item/edit?itemId=".concat(t))];case 1:return e=r.sent().data,z(e),x(e.itemDTO.item.id),[3,3];case 2:return n=r.sent(),console.error("Error fetching item: ",n),[3,3];case 3:return[2]}}))}))},$=function(e,t){J((function(){return e})),V(t),M(!0)};return r.createElement(i.A,{fluid:!0},r.createElement(A,{onSearch:g}),r.createElement(j,{show:L,handleClose:function(){return M(!1)},onDelete:H,message:Q}),r.createElement(a.Op,C({},U),r.createElement("form",{onSubmit:U.handleSubmit((function(t){return P(e,void 0,void 0,(function(){return T(this,(function(e){switch(e.label){case 0:return[4,o.A.patch("/api/item/edit",t)];case 1:return e.sent(),x(-1),W(),[2]}}))}))}))},r.createElement(s.A,{hover:!0,bordered:!0,variant:"secondary",className:"mx-auto",style:{borderRadius:"8px",overflow:"hidden"}},r.createElement("thead",null,r.createElement("tr",{className:"table-secondary"},r.createElement("th",{scope:"col"},"Name"),r.createElement("th",{scope:"col"},"Description"),r.createElement("th",{scope:"col"},"Tag(s)"),r.createElement("th",{scope:"col"},r.createElement(c.k2,{to:"/item/form",className:"btn btn-primary btn-sm",role:"button"},"Create")))),r.createElement("tbody",{className:"table-group-divider"},b.length>0&&b.map((function(e,t){return r.createElement(r.Fragment,null,D===e.id?r.createElement(F,{key:"editRow",itemDTO:null==q?void 0:q.itemDTO,containerDTOs:null==q?void 0:q.containerDTOs,setupDelete:$,handleDelete:Y,cancelEdit:x}):r.createElement(I,{key:"readRow",item:e,index:t,onDelete:function(e){k(e),$(X,"Are you sure you want to delete this item?")},onEdit:Z}))})))))),r.createElement(u.A,{currentPage:n,totalPages:f,onPageChange:m}))}}}]);